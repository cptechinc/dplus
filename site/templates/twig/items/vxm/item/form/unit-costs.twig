{#
	var                    Description / Instance of
	-------------------------------------------------
	page                   ProcessWire\Page
	vxm                    module XrefVxm
	recordlocker           module RecordLockerUser
	item                   ItemXrefVendor
#}
<table class="table table-striped table-sm">
	<thead>
		<tr>
			<th></th>
			<th class="text-right">Unit</th>
			<th class="text-center">Unit Cost</th>
			<th class="text-right">Margin %</th>
		</tr>
	</thead>
	<tbody>
		<tr class="unit-row">
			<td>Base</td>
			<td>
				<input type="hidden" class="form-control form-control-sm unit-qty" value="1">
			</td>
			<td>
				{% include 'util/form/input.twig' with {
						'name': 'unitcost_base', 'value': item.get_unitcost_uom(0)|number_format(vxm.decimal_places_cost()),
						'class_add': [
							'unit-cost',
							'w-75',
							'text-right',
							'pull-right'
						]
					}
				%}
			</td>
			<td class="text-right">
				{% include 'util/form/input.twig' with {
						'name': 'unitmargin_base', 'value': item.get_unitmargin(0)|number_format(vxm.decimal_places_margin()),
						'class_add': [
							'unit-margin',
							'w-50',
							'text-right',
							'pull-right'
						]
					}
				%}
			</td>
		</tr>
		{% for i in 1..item.get_unitsavailable() %}
			<tr class="unit-row">
				<td>
					Qty {{ i }}
				</td>
				<td>
					<input type="text" class="form-control form-control-sm w-50 unit-qty text-right pull-right" name="unit_qty{{ i }}" value="{{ item.get_unitqty(i) }}">
				</td>
				<td>
					<input type="text" class="form-control form-control-sm w-75 unit-cost text-right pull-right" name="unit_cost{{ i }}" value="{{ item.get_unitcost_uom(i)|number_format(vxm.decimal_places_cost()) }}">
				</td>
				<td class="text-right">
					{% include 'util/form/input.twig' with {
							'name': 'unitmargin_' ~ i, 'value': item.get_unitmargin(i)|number_format(vxm.decimal_places_margin()),
							'class_add': [
								'unit-margin',
								'w-50',
								'text-right',
								'pull-right'
							]
						}
					%}
				</td>
			</tr>
		{% endfor %}
	</tbody>
</table>
