{% if (not page.print) %}
	<button type="button" class="btn btn-primary btn-sm mb-3" data-toggle="collapse" data-target="#{{ (binitem.itemid ~ '_' ~ binitem.bin)|attrJS }}-lotserial" aria-expanded="false" aria-controls="{{ (binitem.itemid ~ '_' ~ binitem.bin)|attrJS }}-lotserial">
		Show / Hide {{ binitem.get_itemtypepropertydesc()|upper ~ "S" }}
	</button>
{% endif %}
<div class="{{ not page.print ? 'collapse' : '' }}" id="{{ (binitem.itemid ~ '_' ~ binitem.bin)|attrJS  }}-lotserial">
	<div class="card border border-info">
		<div class="card-header bg-info text-white">
			{{ binitem.itemid }} Lots in Bin {{ binitem.bin }}
		</div>
		<div class="list-group list-group-flush">
			{% for lotserial in inventory.get_lotserials_itemid(binitem.sessionid, binitem.itemid, binitem.bin, 'expirationdate') %}
				<div class="list-group-item p-1">
					<div class="row">
						<div class="col">
							<strong>Lot #:</strong> {{ lotserial.get_itemidentifier() }}
						</div>
						<div class="col">
							<strong>Lot Ref:</strong> {{ lotserial.lotreference }}
						</div>
						<div class="col">
							<strong>Qty:</strong> {{ lotserial.qty }}
						</div>
						<div class="col">
							<strong>Expires:</strong> {{ lotserial.expirationdate }}
						</div>
						<div class="col">
							{% if (not warehouse.validate_bin(lotserial.bin)) %}
								<span class="badge badge-danger pull-right">Invalid Bin</span>
							{% endif %}
						</div>
					</div>
				</div>
			{% endfor %}
		</div>
	</div>
</div>
