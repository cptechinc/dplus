<table class="table table-sm">
	<thead>
		<tr class="bg-dark text-white p-3">
			<th class="pt-3 pb-3">
				<a href="{{ page.get_sortURL('id') }}" class="link"> Code
					{% if page.orderby_column == 'id' %}
						<i class="fa fa-sort-alpha-{{ page.orderby_sort|lower }}" aria-hidden="true"></i>
					{% endif %}
				</a>
			</th>
			<th class="pt-3 pb-3">
				<a href="{{ page.get_sortURL('description') }}" class="link"> Description
					{% if page.orderby_column == 'description' %}
						<i class="fa fa-sort-alpha-{{ page.orderby_sort|lower }}" aria-hidden="true"></i>
					{% endif %}
				</a>
			</th>
			<th class="pt-3 pb-3">Method</th>
			<th class="pt-3 pb-3">Type</th>
			<th class="pt-3 pb-3">Hold</th>
			<th class="pt-3 pb-3">
				<a href="{{ page.get_sortURL('country') }}" class="link">Country
					{% if page.orderby_column == 'country' %}
						<i class="fa fa-sort-alpha-{{ page.orderby_sort|lower }}" aria-hidden="true"></i>
					{% endif %}
				</a>
			</th>
			<th class="pt-3 pb-3">Exp Date</th>
			<th class="pt-3 pb-3 text-center">
				<a href="{# page.codeAddUrl() #}" class="btn btn-light btn-sm">
					<i class="fa fa-plus" aria-hidden="true"></i> Add
				</a>
			</th>
		</tr>
	</thead>
	<tbody>
		{% if codes.count() == 0 %}
			<tr>
				<td colspan="8" class="text-center bg-light">
					<strong>No Sales People Found</strong>
				</td>
			</tr>
		{% endif %}

		{% for code in codes %}
			<tr data-id="{{ code.id }}">
				<td>{{ code.id }}</td>
				<td>{{ code.description }}</td>
				<td>{{ code.method }}</td>
				<td>{{ code.type }}</td>
				<td>{{ code.hold|yesorno|capitalize }}</td>
				<td>{{ code.country }}</td>
				<td>{{ code.expiredate|convertdate }}</td>
				<td class="text-center">
					{% if trm.recordlocker.isLocked(code.id) == false or trm.recordlocker.userHasLocked(code.id) %}
						<a href="{{ page.codeEditUrl(code.id) }}" class="btn btn-warning btn-sm">
							<i class="fa fa-pencil" aria-hidden="true"></i> Edit
						</a>
						&nbsp; &nbsp;
						<a href="{{ page.codeDeleteUrl(code.id) }}" class="btn btn-danger btn-sm delete_button" data-delete="Sales Rep {{ code.id }}">
							<i class="fa fa-trash" aria-hidden="true"></i> Delete
						</a>
					{% else %}
						<span class="badge badge-secondary">
							<i class="fa fa-lock" aria-hidden="true"></i> Locked By {{ trm.recordlocker.getLockingUser(code.id) }}
						</span>
					{% endif %}
				</td>
			</tr>
		{% endfor %}
	</tbody>
</table>
