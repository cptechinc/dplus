{% set value = code.order_percent(x) %}

{% set readonly = code.order_percent(x) == 0 ? true : readonly %}

{% set tabindex = startindex + (x * 10) + 0 %}
{% set tabindex = readonly ? '-' ~ tabindex : tabindex %}

{% include 'util/bootstrap/form/input.twig' with {
	'input': {
		'name': 'order_percent' ~ x,
		'type': 'number',
		'value': value != 0 ? value|number_format(manager.fieldAttribute('order_percent', 'precision')) : '',
		'size': 'sm', 
		'addclasses': [
			'text-right',
			'order_percent'
		],
		'attributes': {
			'tabindex': tabindex,
			'data-error': '.error',
			'max': manager.fieldAttribute('order_percent', 'max'),
			'readonly': readonly
		}
	}
} %}
